const searchSection=document.querySelector(".search"),popupShow_button=searchSection.querySelector(".button-form-show"),searchPopup=searchSection.querySelector(".modal"),searchForm=searchPopup.querySelector(".search-form"),searchForm_interactive=searchForm.querySelectorAll("[name]"),dateIn=searchForm.querySelector("[name=date-in]"),dateOut=searchForm.querySelector("[name=date-out]"),adults=searchForm.querySelector("[name=adults]"),kids=searchForm.querySelector("[name=kids]"),adultsMinus_button=searchForm.querySelector(".button-adults-minus"),adultsPlus_button=searchForm.querySelector(".button-adults-plus"),kidsMinus_button=searchForm.querySelector(".button-kids-minus"),kidsPlus_button=searchForm.querySelector(".button-kids-plus");let isStorageSupport=!0,storageAdults_count="",storageKids_count="";searchPopup.classList.add("modal-close");try{storageAdults_count=localStorage.getItem("adults"),storageKids_count=localStorage.getItem("kids")}catch(e){isStorageSupport=!1}storageAdults_count&&(adults.value=storageAdults_count),storageKids_count&&(kids.value=storageKids_count),popupShow_button.addEventListener("click",function(e){if(e.preventDefault(),searchPopup.classList.contains("modal-error")&&searchPopup.classList.remove("modal-error"),searchPopup.classList.toggle("modal-open"),searchPopup.classList.toggle("modal-close"),searchPopup.classList.contains("modal-open")){for(var t=0;t<searchForm_interactive.length;t++){searchForm_interactive[t].setAttribute("tabindex",0)}dateIn.focus()}if(searchPopup.classList.contains("modal-close"))for(t=0;t<searchForm_interactive.length;t++){searchForm_interactive[t].setAttribute("tabindex",-1)}}),searchForm.addEventListener("submit",function(e){dateIn.value&&dateOut.value&&adults.value&&kids.value?isStorageSupport&&(localStorage.setItem("adults",adults.value),localStorage.setItem("kids",kids.value)):(e.preventDefault(),searchPopup.classList.remove("modal-error"),searchPopup.offsetWidth=searchPopup.offsetWidth,searchPopup.classList.add("modal-error"))}),adultsMinus_button.addEventListener("click",function(e){e.preventDefault(),adults.value||(adults.value=0);let t=parseInt(adults.value,10)-1;t>=0&&(adults.value=t)}),adultsPlus_button.addEventListener("click",function(e){e.preventDefault(),adults.value||(adults.value=0),adults.value=parseInt(adults.value,10)+1}),kidsMinus_button.addEventListener("click",function(e){e.preventDefault(),kids.value||(kids.value=0);let t=parseInt(kids.value,10)-1;t>=0&&(kids.value=t)}),kidsPlus_button.addEventListener("click",function(e){e.preventDefault(),kids.value||(kids.value=0),kids.value=parseInt(kids.value,10)+1});
